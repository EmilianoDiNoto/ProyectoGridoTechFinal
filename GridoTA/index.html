<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width,initial-scale=1,maximum-scale=1"
    />
    <title>Modern Admin Dashboard</title>
    <link rel="stylesheet" href="style.css" />

    <!-- link de FontAwesome----->
    <script
      src="https://kit.fontawesome.com/417062404a.js"
      crossorigin="anonymous"
    ></script>

    <!-- link de Icons8----->
    <link
      rel="stylesheet"
      href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css"
    />

    <!-- link de chart----->
    <script src="//cdn.jsdelivr.net/npm/chart.js@4.4.5/dist/chart.umd.min.js"></script>

    <!-- link de chartjs librerias---->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  </head>
  <body>
    <input type="checkbox" id="menu-toggle" />

    <div class="sidebar">
      <div class="side-header">
        <h3>H<span>ELACOR</span></h3>
      </div>
      <div class="side-content">
        <div class="profile">
          <div
            class="profile-img bg-img"
            style="background-image: url('img/mujer-de-negocios.png')"
          ></div>
          <h4>Diana Zavaleta</h4>
          <small>Administradora</small>
        </div>
        <div class="side-menu">
          <ul>
            <li>
              <a href="#" class="active">
                <span class="las la-home"></span>
                <small>Inicio</small>
              </a>
              <ul class="submenu">
                <li>
                  <a href="login1.html">INICIO DE SESION</a>
                </li>
                <li>
                  <a href="#">PANEL DE CONTROL</a>
                </li>
              </ul>
            </li>
            <li>
              <a href="#">
               <span class="las la-clipboard-list"></span>
               <small>Gestion de inventario</small>
              </a>
              <ul class="submenu">
                <li>
                  <a href="inventario.html">VISUALIZACION DE INVENTARIO</a>
                </li>
                <li>
                  <a href="ajuste-invent.html">AJUSTES INVENTARIO</a>
                </li>
                <li>
                  <a href="registro-fin.html">MOVIMIENTOS DE INVENTARIO</a>
                </li>
                <li>
                  <a href="reg-mov-mat.html">DEVOLUCIONES Y DESCARTES</a>
                </li>
                <li>
                  <a href="trazabilidad-material.html">TRAZABILIDAD</a>
                </li>
              </ul>
            </li>
            <li>
              <a href="#">
                <span class="las la-campground"></span>
                <small>Órdenes de Trabajo</small>
              </a>
              <ul class="submenu">
                <li>
                  <a href="listado_insumos.html">GESTION DE ORDENES</a>
                </li>
                <li>
                  <a href="gestion.html">SOLICITUD DE MATERIALES</a>
                <li>
                  <a href="listado_insumos.html">ESTADO DE PRODUCCION</a>
                </li>
                <li>
                  <a href="#">CONFIRMACION DE PRODUCCION</a>
                </li>
              </ul>
            </li>
            <li>
              <a href="#">
                <span class="las la-clipboard-check"></span>
                <small>Reportes</small>
              </a>
              <ul class="submenu">
                <li>
                  <a href="listado.html">INVENTARIO</a>
                </li>
                <li>
                  <a href="informe.html">INSUMOS</a>
                </li>
                <li>
                  <a href="informe-materiales.html">RETENCION Y DESCARTES</a>
                </li>
              </ul>
            </li>
            <li>
              <a href="#">
                <span class="las la-chart-line"></span>
                <small>Gráficos</small>
              </a>
              <ul class="submenu">
                <li><a href="#">Barras</a></li>
                <li><a href="#">Submenú 2</a></li>
                <li><a href="#">Submenú 3</a></li>
              </ul>
            </li>
            <li>
              <a href="#">
                <span class="las la-file-alt"></span>
                <small>Órdenes</small>
              </a>
              <ul class="submenu">
                <li><a href="gestion.html">Prueba</a></li>
                <li><a href="#">Submenú 2</a></li>
                <li><a href="#">Submenú 3</a></li>
              </ul>
            </li>
            <li>
              <a href="#">
                <span class="las la-tasks"></span>
                <small>Tareas</small>
              </a>
              <ul class="submenu">
                <li><a href="#">Submenú 1</a></li>
                <li><a href="#">Submenú 2</a></li>
                <li><a href="#">Submenú 3</a></li>
              </ul>
            </li>
            <li>
              <a href="#">
                <span class="las la-cog"></span>
                <small>Configuración</small>
              </a>
              <ul class="submenu">
                <li><a href="crear_usuario.html">Crear Nuevo Usuario</a></li>
                <li><a href="lista de usuarios.html">Lista de Usuarios</a></li>
              </ul>
            </li>


          </ul>
        </div>
      </div>
    </div>

    <div class="main-content">
      <header>
        <div class="header-content">
          <label for="menu-toggle">
            <span class="las la-bars"></span>
          </label>

          <div class="header-menu">
            <label for="">
              <span class="las la-search"></span>
            </label>

            <div class="notify-icon">
              <span class="las la-envelope"></span>
              <span class="notify">4</span>
            </div>

            <div class="notify-icon">
              <span class="las la-bell"></span>
              <span class="notify">3</span>
            </div>

            <div class="user">
              <div
                class="bg-img"
                style="background-image: url(img/1.jpeg)"
              ></div>

              <span class="las la-power-off"></span>
              <a href="login1.html">Logout</a>
            </div>
          </div>
        </div>
      </header>

      <main>
        <div class="page-header">
          <h2 class="h2menu">Menú</h2>
          <small>Inicio</small>
        </div>

        <div class="page-content">
          <div class="analytics">
            <div class="card">
              <div class="card-head">
                <h2>200</h2>
                <span class="las la-signal"></span>
              </div>
              <div class="card-progress">
                <small>Existencia Actual</small>
                <div class="card-indicator">
                  <div class="indicator one" style="width: 60%"></div>
                </div>
              </div>
            </div>

            <div class="card">
              <div class="card-head">
                <h2>400</h2>
                <span class="las la-shopping-bag"></span>
              </div>
              <div class="card-progress">
                <small>Existencia Total</small>
                <div class="card-indicator">
                  <div class="indicator two" style="width: 80%"></div>
                </div>
              </div>
            </div>

            <div class="card">
              <div class="card-head">
                <h2>250</h2>
                <span class="las la-boxes"></span>
              </div>
              <div class="card-progress">
                <small>Stock</small>
                <div class="card-indicator">
                  <div class="indicator three" style="width: 65%"></div>
                </div>
              </div>
            </div>

            <div class="card">
              <div class="card-head">
                <h2>100</h2>
                <span class="las la-undo-alt"></span>
              </div>
              <div class="card-progress">
                <small>Devoluciones</small>
                <div class="card-indicator">
                  <div class="indicator four" style="width: 90%"></div>
                </div>
              </div>
            </div>
          </div>

          <div class="page-header">
            <h2 class="h2Lista">Lista de Materiales</h2>
          </div>
          <br />

          <div class="records table-responsive">
            <div class="record-header">
              <div class="add">
                <span>Entradas</span>
                <select name="" id="">
                  <option value="">ID</option>
                </select>
                <button>Agregar registro</button>
              </div>

              <div class="browse">
                <input
                  type="search"
                  placeholder="Search"
                  class="record-search"
                />
                <select name="" id="">
                  <option value="">Status</option>
                </select>
              </div>
            </div>

            <div>
              <table width="100%">
                <thead>
                  <tr>
                    <th><span class="las la-sort"></span>Codigo</th>
                    <th><span class="las la-sort"></span>Descripcion</th>
                    <th><span class="las la-sort"></span>Cantidad</th>
                    <th><span class="las la-sort"></span>Categoria</th>
                    <th><span class="las la-sort"></span>Almacen</th>
                    <th><span class="las la-sort"></span>Stock Minimo</th>
                    <th><span class="las la-sort"></span>Inventario</th>
                    <th><span class="las la-sort"></span>Stock Solicitar</th>
                    <th><span class="las la-sort"></span>ACTIONS</th>
                  </tr>
                </thead>
                <tbody>
                  <!-- <tr>
                    <td>100</td>
                    <td>Caramelo doble concentracion</td>
                    <td>kg</td>
                    <td>Dulces</td>
                    <td>Almacen1</td>
                    <td>50</td>
                    <td>42</td>
                    <td>Solicitar material</td>
                    <td>
                      <div class="actions">
                        <span class="lab la-telegram-plane"></span>
                        <span class="las la-eye"></span>
                        <span class="las la-ellipsis-v"></span>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td>101</td>
                    <td>Caramelo de menta</td>
                    <td>bolsa</td>
                    <td>Dulces</td>
                    <td>Almacen1</td>
                    <td>5</td>
                    <td>10</td>
                    <td>Hay suficiente</td>
                    <td>
                      <div class="actions">
                        <span class="lab la-telegram-plane"></span>
                        <span class="las la-eye"></span>
                        <span class="las la-ellipsis-v"></span>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td>102</td>
                    <td>Caramelo oscuro</td>
                    <td>bolsa</td>
                    <td>Dulces</td>
                    <td>Almacen1</td>
                    <td>0</td>
                    <td>0</td>
                    <td>Sin dato stock minimo</td>
                    <td>
                      <div class="actions">
                        <span class="lab la-telegram-plane"></span>
                        <span class="las la-eye"></span>
                        <span class="las la-ellipsis-v"></span>
                      </div>
                    </td>
                  </tr> -->
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </main>

      <!-- Add charts- js chart---->

      <div class="page-header">
        <h2>Gráfico de Inventario</h2>
        <canvas id="myChart" widh="100" height="100"></canvas>
      </div>
    </div>

    <!--js chart-->
    <script src="my_chart.js"></script>

    <!--js chart grafico-->
    <script>
      var ctx = document.getElementById('myChart').getContext('2d');
var myChart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: ['Mes1', 'Mes2', 'Mes3', 'Mes4', 'Mes5', 'Mes6'],
        datasets: [{
            label: '# of Votes',
            data: [0, 100, 200, 300, 400, 500],
            backgroundColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)'
            ],
            
        }]
    },
    options: {
        scales: {
            y: {
                beginAtZero: true
            }
        }
    }
});
</script>
 
    </script>

    <!-- Nav desplegable-->
    <script type="text/javascript">
      $(".nav").click(function () {
        $("#mySidenav").css("width", "70px");
        $("#main").css("margin-left", "70px");
        $(".logo").css("visibility", "hidden");
        $(".logo span").css("visibility", "visible");
        $(".logo span").css("margin-left", "-10px");
        $(".icon-a").css("visibility", "hidden");
        $(".icons").css("visibility", "visible");
        $(".icons").css("margin-left", "-8px");
        $(".nav").css("display", "none");
        $(".nav2").css("display", "block");
      });

      $(".nav2").click(function () {
        $("#mySidenav").css("width", "300px");
        $("#main").css("margin-left", "300px");
        $(".logo").css("visibility", "visible");
        $(".logo span").css("visibility", "visible");
        $(".icon-a").css("visibility", "visible");
        $(".icons").css("visibility", "visible");
        $(".nav").css("display", "block");
        $(".nav2").css("display", "none");
      });
    </script>

 <!-- conexion Api-->
    <script>
    
      function Get() {
        fetch("http://localhost:61344/api/Almacen/ListarTodos")
          .then((response) => response.json())
          .then((data) => {
            const tbody = document.querySelector(`tbody`);

            data.forEach((o) => {
              let _tr = `<tr>
                            <td>${o.idMaterial}</td>
                            <td>${o.Material}</td>
                            <td>${o.Stock}</td>
                        </tr>`;

              tbody.innerHTML += _tr;
            });
          });
      }
      Get();


    // js desplegables

    document.addEventListener("DOMContentLoaded", function () {
    const menuItems = document.querySelectorAll(".side-menu ul li a");

    menuItems.forEach((item) => {
      item.addEventListener("click", function () {
        const submenu = this.nextElementSibling;
        const isActive = submenu && submenu.style.display === "block";

        // Oculta todos los submenús
        document
          .querySelectorAll(".side-menu ul .submenu")
          .forEach((sub) => {
            sub.style.display = "none";
          });

        // Muestra el submenú si no está activo
        if (submenu && !isActive) {
          submenu.style.display = "block";
        }
      });
    });
  });
    </script>
  </body>
</html>
